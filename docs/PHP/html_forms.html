<!DOCTYPE html>
<html lang="en">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
  rel="stylesheet"
  integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
  crossorigin="anonymous">
<link rel="stylesheet" href="../prism.css">
<link rel="stylesheet" href="../styles.css">
<style>

</style>

<body>

  <nav>
    <ul>
      <li><a class="" href="../index.html">index</a></li>
      <li class="heading"><span>CSS</span></li>
      <ul>
        <li><a class="" href="../CSS/css-media-and-rwd.html">css media and
            rwd</a></li>
        <li><a class="" href="../CSS/css-naming-convention.html">css naming
            convention</a></li>
        <li><a class="" href="../CSS/css_page_media.html">css page media</a>
        </li>
        <li><a class="" href="../CSS/flexbox-review.html">flexbox review</a>
        </li>
        <li><a class="" href="../CSS/grid-review.html">grid review</a></li>
        <li><a class="" href="../CSS/notes_grid_or_flexbox.html">notes grid or
            flexbox</a></li>
        <li><a class="" href="../CSS/rwd-snippets.html">rwd snippets</a></li>
        <li><a class="" href="../CSS/sizing_items_in_css.html">sizing items in
            css</a></li>
      </ul>
      <li class="heading"><span>Github</span></li>
      <ul>
        <li><a class="" href="../Github/gcm.html">gcm</a></li>
        <li><a class="" href="../Github/git-branching.html">git branching</a>
        </li>
        <li><a class="" href="../Github/git-flight-rules.html">git flight
            rules</a></li>
        <li><a class="" href="../Github/git-gcm-configure.html">git gcm
            configure</a></li>
        <li><a class="" href="../Github/git.html">git</a></li>
        <li><a class="" href="../Github/gitpod.html">gitpod</a></li>
        <li><a class=""
            href="../Github/integrate_github_with_wordpress.html">integrate
            github with wordpress</a></li>
        <li><a class="" href="../Github/md-to-github.html">md to github</a></li>
      </ul>
      <li class="heading"><span>Leaf 3</span></li>
      <ul>
        <li><a class="" href="../Leaf-3/basic.html">basic</a></li>
        <li><a class="" href="../Leaf-3/helpers.html">helpers</a></li>
        <li><a class="" href="../Leaf-3/mvc.html">mvc</a></li>
      </ul>
      <li class="heading"><span>Network Net</span></li>
      <ul>
        <li><a class="" href="../Network_Net/anonsurf_vpn_install.html">anonsurf
            vpn install</a></li>
        <li><a class="" href="../Network_Net/dd-wrt.html">dd wrt</a></li>
        <li><a class="" href="../Network_Net/dd-wrt_multiple_bssids.html">dd wrt
            multiple bssids</a></li>
        <li><a class="" href="../Network_Net/ddwrt_basic_wl_settings.html">ddwrt
            basic wl settings</a></li>
        <li><a class=""
            href="../Network_Net/download_youtube_videos.html">download youtube
            videos</a></li>
        <li><a class="" href="../Network_Net/riseup-vpn.html">riseup vpn</a>
        </li>
      </ul>
      <li class="heading"><span>PHP</span></li>
      <ul>
        <li><a class="" href="22092023.html">22092023</a></li>
        <li><a class="" href="LearningResources.html">LearningResources</a></li>
        <li><a class="" href="edx_js_backend_frameworks.html">edx js backend
            frameworks</a></li>
        <li><a class="" href="embed_lib.html">embed lib</a></li>
        <li><a class="" href="express_mdn.html">express mdn</a></li>
        <li><a class="" href="helpful_resources.html">helpful resources</a></li>
        <li><a class="active" href="html_forms.html">html forms</a></li>
        <li><a class="" href="http_response_codes.html">http response codes</a>
        </li>
        <li><a class="" href="json_guide.html">json guide</a></li>
        <li><a class="" href="local-servers.html">local servers</a></li>
        <li><a class="" href="logical_gradation_of_developers.html">logical
            gradation of developers</a></li>
        <li><a class="" href="markdown.html">markdown</a></li>
        <li><a class="" href="namespace_review.html">namespace review</a></li>
        <li><a class="" href="notes_for_proff_nodejs_express.html">notes for
            proff nodejs express</a></li>
        <li><a class="" href="npm_quick_ref.html">npm quick ref</a></li>
        <li><a class="" href="pandoc_quick_ref.html">pandoc quick ref</a></li>
        <li><a class="" href="php_basics.html">php basics</a></li>
        <li><a class="" href="php_iterators.html">php iterators</a></li>
        <li><a class="" href="wget-ultimate-examples.html">wget ultimate
            examples</a></li>
      </ul>
      <li class="heading"><span>Packaging</span></li>
      <ul>
        <li><a class="" href="../Packaging/apt.html">apt</a></li>
        <li><a class="" href="../Packaging/composer.html">composer</a></li>
      </ul>
      <li class="heading"><span>ReviewQuestions</span></li>
      <ul>
        <li><a class="" href="../ReviewQuestions/strings_quotes.html">strings
            quotes</a></li>
      </ul>
      <li class="heading"><span>Symfony</span></li>
      <ul>
        <li><a class="" href="../Symfony/Encore.html">Encore</a></li>
        <li class="heading"><span>Symfonycasts</span></li>
        <ul>
          <li><a class=""
              href="../Symfony/Symfonycasts/Composer.html">Composer</a></li>
          <li><a class=""
              href="../Symfony/Symfonycasts/Dependency Injection and the art of services and containers.html">Dependency
              Injection and the art of services and containers</a></li>
          <li><a class=""
              href="../Symfony/Symfonycasts/Symfony 6 Fundamentals: Services, Config & Environments.html">Symfony
              6 Fundamentals: Services, Config & Environments</a></li>
        </ul>
        <li><a class="" href="../Symfony/chapter5_symfonyCats.html">chapter5
            symfonyCats</a></li>
        <li><a class=""
            href="../Symfony/symfony_and_http_fundamentals.html">symfony and
            http fundamentals</a></li>
        <li><a class="" href="../Symfony/symfony_basics.html">symfony basics</a>
        </li>
        <li><a class="" href="../Symfony/twig_basics.html">twig basics</a></li>
        <li><a class="" href="../Symfony/twig_cheatsheet.html">twig
            cheatsheet</a></li>
      </ul>
      <li class="heading"><span>javascript</span></li>
      <ul>
        <li><a class="" href="../javascript/js_cheatsheet.html">js
            cheatsheet</a></li>
      </ul>
    </ul>
  </nav>
  <article>
    <h1 id="working-with-forms-in-php">Working with Forms in PHP <a
        class="heading-anchor-permalink" href="#working-with-forms-in-php">#</a>
    </h1>
    <p>from (<a
        href="https://www.section.io/engineering-education/working-with-forms-in-php/">https://www.section.io/engineering-education/working-with-forms-in-php/</a>)
    </p>
    <hr>
    <ul>
      <li>There are four database operations involved, these being create, read,
        update, and delete. This pattern is commonly known by the acronym CRUD
        operations.</li>
      <li>Hypertext Transfer Protocol (HTTP) enables communication between the
        client (browser) and the server.</li>
      <li>HTTP supports several methods such as GET, POST, and PUT. Data is
        processed based on the selected method:
        <ul>
          <li>The GET method fetches data from the server.</li>
          <li>The POST method sends data from the HTML form to the server to
            create a resource.</li>
          <li>PUT method sends data to the server to create or update a
            resource.</li>
        </ul>
      </li>
    </ul>
    <h4 id="creating-form%3A">Creating form: <a class="heading-anchor-permalink"
        href="#creating-form%3A">#</a></h4>
    <p>copy this code into <code>index.php</code></p>
    <pre><code class="language-html">&lt;body&gt;
  &lt;h1&gt;HTML Form&lt;/h1&gt;
  &lt;!-- The action identifies the page where the form input is submitted.  --&gt;
  &lt;form method=&quot;&quot; action=&quot;index.php&quot;&gt;
    Name: &lt;input type=&quot;text&quot; name=&quot;name&quot; /&gt;&lt;br /&gt;&lt;br /&gt;
    Email: &lt;input type=&quot;text&quot; name=&quot;email&quot; /&gt;&lt;br /&gt;
    &lt;br /&gt;
    &lt;input type=&quot;submit&quot; value=&quot;submit&quot; /&gt;
  &lt;/form&gt;
&lt;/body&gt;
</code></pre>
    <ul>
      <li>POST is a superglobal method, which collects form data and submits it
        to the HTTP server. The data entered is encoded, and the content is
        hidden. POST method has a global scope, and data is accessed from any
        script.</li>
      <li>POST does not have a limitation on the amount of data sent from the
        form.</li>
    </ul>
    <h4 id="processing-the-form-data-(php-script)">Processing the form data (PHP
      script) <a class="heading-anchor-permalink"
        href="#processing-the-form-data-(php-script)">#</a></h4>
    <pre><code class="language-php">&lt;?php
    # Check if name and email fileds are empty
    if(empty($_POST['name']) &amp;&amp; empty($_POST['email'])){
        # If the fields are empty, display a message to the user
        echo &quot; &lt;br/&gt; Please fill in the fields&quot;;
    # Process the form data if the input fields are not empty
    }else{
        $name= $_POST['name'];
        $email= $_POST['email'];
        echo ('Your Name is:     '. $name. '&lt;br/&gt;');
        echo ('Your Email is:'   . $email. '&lt;br/&gt;');
    }
?&gt;
</code></pre>
    <ul>
      <li>Most systems have a limit of 255 characters. The best example of using
        the GET method is with the search engine forms. The code below can be
        used to process an HTML form with a method set as GET.</li>
    </ul>
    <pre><code class="language-php">&lt;?php
    # Check if name and email fileds are empty
    if(empty($_GET['name']) &amp;&amp; empty($_GET['email'])){
        # If the fields are empty, display a message to the user
        echo &quot;Please fill in the fields&quot;;
    # Process the form data if the input fields are not empty
    }else{
        $name= $_GET['name'];
        $email= $_GET['email'];
        echo ('Welcome:     '. $name. '&lt;br/&gt;');
        echo ('This is your email address:'   . $email. '&lt;br/&gt;');
    }
?&gt;
</code></pre>
    <h2 id="html-forms-and-mysql-database-crud-operations">HTML forms and MySQL
      database CRUD operations <a class="heading-anchor-permalink"
        href="#html-forms-and-mysql-database-crud-operations">#</a></h2>
    <ul>
      <li>
        <p>First, create a MySQL database and name it crud. Create a table with
          three columns, name it user.
          The columns are:</p>
        <ul>
          <li>id</li>
          <li>name</li>
          <li>email</li>
        </ul>
        <h4 id="create-a-database-server-connection%3A">Create a database server
          Connection: <a class="heading-anchor-permalink"
            href="#create-a-database-server-connection%3A">#</a></h4>
      </li>
      <li>
        <p>Create a file named connect.php and place in it the following code.
          The scripts make a connection to the MySQL database server. later you
          will use this file using <code>include(&quot;connect.php&quot;)</code>
        </p>
      </li>
    </ul>
    <pre><code class="language-php">  &lt;?php
    $servername = &quot;localhost&quot;;
    $username = &quot;root&quot;; # MySQL user
    $password = &quot;&quot;; # MySQL Server root password
    $dbname='crud'; # Database name
    $conn = new mysqli($servername, $username, $password, $dbname);
    if ($conn-&gt;connect_error) {
        # Display an error mesage if the connection fails
        die(&quot;Connection failed: &quot; . $conn-&gt;connect_error);
    }
?&gt;
</code></pre>
    <h4 id="create-a-record-in-the-database%3A">Create a record in the database:
      <a class="heading-anchor-permalink"
        href="#create-a-record-in-the-database%3A">#</a></h4>
    <pre><code class="language-php">&lt;?php
// Include script to make a database connection
include(&quot;connect.php&quot;);
// Check if input fileds are empty
if(empty($_POST['name']) &amp;&amp; empty($_POST['email'])){
    // If the fields are empty, display a message to the user
    echo &quot;Please fill in the fields&quot;;
// Process the form data if the input fields are not empty
}else{
    $name= $_POST['name'];
    $email= $_POST['email'];
    echo ('Your Name is:     '. $name. '&lt;br/&gt;');
    echo ('Your Email is:'   . $email. '&lt;br/&gt;');
    # Insert into the database
    $query = &quot;INSERT INTO user(name,email) VALUES ('$name','$email')&quot;;
    if (mysqli_query($conn, $query)) {
        echo &quot;New record created successfully !&quot;;
    } else {
         echo &quot;Error inserting record: &quot; . $conn-&gt;error;
    }
}
?&gt;
</code></pre>
    <ul>
      <li>Here is the form:</li>
    </ul>
    <pre><code class="language-html">&lt;body&gt;
  &lt;h1&gt;Form&lt;/h1&gt;
  &lt;form method=&quot;post&quot; action=&quot;form-post.php&quot;&gt;
    Name: &lt;input type=&quot;text&quot; name=&quot;name&quot; /&gt;&lt;br /&gt;&lt;br /&gt;
    Email: &lt;input type=&quot;text&quot; name=&quot;email&quot; /&gt;&lt;br /&gt;
    &lt;br /&gt;
    &lt;input type=&quot;submit&quot; name=&quot;save&quot; value=&quot;submit&quot; /&gt;
  &lt;/form&gt;
&lt;/body&gt;
</code></pre>
    <h4 id="read-data-and-display-in-a-html-table">Read data and display in a
      HTML table <a class="heading-anchor-permalink"
        href="#read-data-and-display-in-a-html-table">#</a></h4>
    <pre><code class="language-php">&lt;?php
# Include script to make a database connection
include(&quot;connect.php&quot;)
$ Read From the database and display in the table
$query2 = &quot;SELECT * FROM user&quot;;
$result = $conn-&gt;query($query2);
if ($result-&gt;num_rows &gt; 0) {
    # Output data for each row
    echo &quot;&lt;table id='tsa' border='1' id='example' class='table table-striped responsive-utilities table-hover'&gt;
              &lt;thead&gt;
                &lt;tr&gt;
                &lt;th&gt;ID&lt;/th&gt;
                &lt;th&gt;Name&lt;/th&gt;
                &lt;th&gt;Email&lt;/th&gt;
                &lt;th&gt;Action 1&lt;/th&gt;
                &lt;th&gt;Action 2&lt;/th&gt;
                &lt;/tr&gt;
              &lt;/thead&gt;
              &quot;;
    while($row = $result-&gt;fetch_assoc()) {
       echo &quot;&lt;tr id='green' &quot;,&quot;&gt;&quot;,
            &quot;&lt;td&gt;&quot;, $row[&quot;id&quot;],&quot;&lt;/td&gt;&quot;,
            &quot;&lt;td&gt;&quot;, $row[&quot;name&quot;],&quot;&lt;/td&gt;&quot;,
            &quot;&lt;td&gt;&quot;, $row[&quot;email&quot;],&quot;&lt;/td&gt;&quot;,
            &quot;&lt;td&gt;&quot;,
                &quot;&lt;form action='update.php' method='post'&gt;
                 &lt;input name='id' value='&quot;,$row[&quot;id&quot;],&quot;' hidden&gt;
                 &lt;button type='submit' name='update' value='update'&gt;Edit&lt;/button&gt;
                &lt;/form&gt;&quot;,
            &quot;&lt;/td&gt;&quot;,
            &quot;&lt;td&gt;&quot;,
                &quot;&lt;form action='form-post.php' method='post'&gt;
                 &lt;input name='id' value='&quot;,$row[&quot;id&quot;],&quot;' hidden&gt;
                 &lt;button type='submit' name='delete' value='delete'&gt;Delete&lt;/button&gt;
                &lt;/form&gt;&quot;,
            &quot;&lt;/td&gt;&quot;,
            &quot;&lt;/tr&gt;&quot;;
    }
    echo  &quot;&lt;/table&gt;&quot;;
}else {
 echo &quot;No Records!&quot;;
}
?&gt;
</code></pre>
    <h4 id="update-existing-data-in-the-database%3A">Update existing data in the
      database: <a class="heading-anchor-permalink"
        href="#update-existing-data-in-the-database%3A">#</a></h4>
    <ul>
      <li>The update form is displayed when we click the edit button in the
        table cell.</li>
      <li>Take note of the code used to create the edit button on the table. The
        update button is a submit button for a form with <strong>hidden</strong>
        input fields.</li>
    </ul>
    <pre><code class="language-html">&lt;td&gt;
  &lt;form action=&quot;update.php&quot; method=&quot;post&quot;&gt;
    &lt;input name=&quot;id&quot; value='&quot;,$row[&quot;id&quot;],&quot;' hidden /&gt;
    &lt;button type=&quot;submit&quot; name=&quot;update&quot; value=&quot;update&quot;&gt;Edit&lt;/button&gt;
  &lt;/form&gt;
&lt;/td&gt;
</code></pre>
    <ul>
      <li>In the update.php script, a form with data matching the submitted
        information is displayed for editing. Once the edit is complete, the
        updated data is resubmitted to the script for processing. In this case,
        we are using the same script to process update requests.</li>
    </ul>
    <pre><code class="language-php">&lt;?php
// Include script to make a database connection
include(&quot;connect.php&quot;);
// Empty string to be used later
$name='';
$email='';
$id='';

// Button click to update using POST method
if(!empty($_POST['update']) &amp;&amp; !empty($_POST['id']) )  {
  $id=$_POST['id'];
  // Fetch record with ID and populate it in the form
  $query2 = &quot;SELECT * FROM user WHERE id='&quot;.$_POST['id'].&quot;' &quot;;
  $result = $conn-&gt;query($query2);
  if ($result-&gt;num_rows &gt; 0) {
    // Output data for each row
    while($row = $result-&gt;fetch_assoc()) {
      $name=$row[&quot;name&quot;];
      $email=$row[&quot;email&quot;];
    }
    echo &quot;Current Details: &quot; .&quot;&lt;b&gt; - Name:&lt;/b&gt; &quot; . $name. &quot; &lt;b&gt;Email:&lt;/b&gt;&quot; . $email. &quot;&lt;br&gt;&quot;;
  } else {
    echo &quot;Error updating&quot;;
  }
}

// Button click to update using GET method
if(!empty($_GET['update']) &amp;&amp; !empty($_GET['id']) )  {
  $id=$_GET['id'];
  // Fetch record with id and populate it in the form
  $query2 = &quot;SELECT * FROM user WHERE id='&quot;.$_GET['id'].&quot;' &quot;;
  $result = $conn-&gt;query($query2);
  if ($result-&gt;num_rows &gt; 0) {
    // Output data for each row
    while($row = $result-&gt;fetch_assoc()) {
      $name=$row[&quot;name&quot;];
      $email=$row[&quot;email&quot;];
    }
    echo &quot;Current Details: &quot; .&quot;&lt;b&gt; - Name:&lt;/b&gt; &quot; . $name. &quot; &lt;b&gt;Email:&lt;/b&gt;&quot; . $email. &quot;&lt;br&gt;&quot;;
  } else {
    echo &quot;Error updating&quot;;
  }
}
// Check that the input fields are not empty and process the data
if(!empty($_POST['name']) &amp;&amp; !empty($_POST['email']) &amp;&amp; !empty($_POST['id']) ){
    // Insert into the database
  $query = &quot;UPDATE user SET name='&quot;.$_POST['name'].&quot;', email='&quot;.$_POST['email'].&quot;' WHERE id='&quot;.$_POST['id'].&quot;' &quot;;
  if (mysqli_query($conn, $query)) {
      echo &quot;Record updated successfully!&lt;br/&gt;&quot;;
      echo '&lt;a href=&quot;form-get.php&quot;&gt;Get Form&lt;/a&gt;&lt;br/&gt;
            &lt;a href=&quot;form-post.php&quot;&gt;Post Form&lt;/a&gt;';
      die(0);
  } else {
      // Display an error message if unable to update the record
       echo &quot;Error updating record: &quot; . $conn-&gt;error;
       die(0);
  }
}

?&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;title&gt;FORM&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Form&lt;/h1&gt;
    &lt;p&gt;Edit the record&lt;/p&gt;
    &lt;form method=&quot;POST&quot; action=&quot;update.php&quot;&gt;
        ID: &lt;input type=&quot;text&quot; name=&quot;id&quot; value=&quot;&lt;?php echo($id); ?&gt;&quot; required&gt;&lt;br&gt;&lt;br/&gt;
        Name: &lt;input type=&quot;text&quot; name=&quot;name&quot; value=&quot;&lt;?php echo($name); ?&gt;&quot; required&gt;&lt;br&gt;&lt;br/&gt;
        Email: &lt;input type=&quot;text&quot; name=&quot;email&quot; value=&quot;&lt;?php echo($email); ?&gt;&quot; required&gt;&lt;br/&gt;
        &lt;br/&gt;
        &lt;input type=&quot;submit&quot; value=&quot;update&quot;&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
    <h4 id="delete-a-record-in-the-table%3A">Delete a record in the table: <a
        class="heading-anchor-permalink"
        href="#delete-a-record-in-the-table%3A">#</a></h4>
    <ul>
      <li>To delete a record in the table, the user clicks the delete button in
        the HTML table. Take note of the code used to display a button inside a
        table cell.</li>
    </ul>
    <pre><code class="language-html">&lt;td&gt;
    &lt;form action='form-post.php' method='post'&gt;
        &lt;input name='id' value='&quot;,$row[&quot;id&quot;],&quot;' hidden&gt;
        &lt;button type='submit' name='delete' value='delete'&gt;Delete&lt;/button&gt;
    &lt;/form&gt;
&lt;/td&gt;
</code></pre>
    <ul>
      <li>The submit button has a hidden id field. The data is sent to a form
        and processed by the PHP script below. If the id is not empty, then the
        record with the submitted id is deleted.</li>
    </ul>
    <pre><code class="language-php">// Check that the input fields are not empty and process the data
if(!empty($_POST['delete']) &amp;&amp; !empty($_POST['id'])){
    $query3 = &quot;DELETE FROM user WHERE id='&quot;.$_POST['id'].&quot;' &quot;;
    if (mysqli_query($conn, $query3)) {
        echo &quot;Record deleted successfully !&quot;;
    } else {
        // Display an error message if unable to delete the record
       echo &quot;Error deleting record: &quot; . $conn-&gt;error;
    }
}
</code></pre>

  </article>
  <script src="../prism.js"></script>
  <script>prism.Highlight();</script>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
    crossorigin="anonymous"></script>
</body>

</html>
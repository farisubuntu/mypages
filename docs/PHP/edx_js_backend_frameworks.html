<!DOCTYPE html>
<html lang="en">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="../prism.css">
<link rel="stylesheet" href="../styles.css">
<style>

</style>
<body>

	<nav class="sidenav">
		<ul>
<li><a class="" href="../index.html">index</a></li>
<li class="heading"><span>CSS</span></li>
<ul>
<li><a class="" href="../CSS/css-media-and-rwd.html">css media and rwd</a></li>
<li><a class="" href="../CSS/css-naming-convention.html">css naming convention</a></li>
<li><a class="" href="../CSS/css_page_media.html">css page media</a></li>
<li><a class="" href="../CSS/flexbox-review.html">flexbox review</a></li>
<li><a class="" href="../CSS/grid-review.html">grid review</a></li>
<li><a class="" href="../CSS/notes_grid_or_flexbox.html">notes grid or flexbox</a></li>
<li><a class="" href="../CSS/rwd-snippets.html">rwd snippets</a></li>
<li><a class="" href="../CSS/sizing_items_in_css.html">sizing items in css</a></li>
</ul>
<li class="heading"><span>Github</span></li>
<ul>
<li><a class="" href="../Github/gcm.html">gcm</a></li>
<li><a class="" href="../Github/git-branching.html">git branching</a></li>
<li><a class="" href="../Github/git-flight-rules.html">git flight rules</a></li>
<li><a class="" href="../Github/git-gcm-configure.html">git gcm configure</a></li>
<li><a class="" href="../Github/git.html">git</a></li>
<li><a class="" href="../Github/gitpod.html">gitpod</a></li>
<li><a class="" href="../Github/integrate_github_with_wordpress.html">integrate github with wordpress</a></li>
<li><a class="" href="../Github/md-to-github.html">md to github</a></li>
</ul>
<li class="heading"><span>Leaf 3</span></li>
<ul>
<li><a class="" href="../Leaf-3/basic.html">basic</a></li>
<li><a class="" href="../Leaf-3/helpers.html">helpers</a></li>
<li><a class="" href="../Leaf-3/mvc.html">mvc</a></li>
</ul>
<li class="heading"><span>Network Net</span></li>
<ul>
<li><a class="" href="../Network_Net/anonsurf_vpn_install.html">anonsurf vpn install</a></li>
<li><a class="" href="../Network_Net/dd-wrt.html">dd wrt</a></li>
<li><a class="" href="../Network_Net/dd-wrt_multiple_bssids.html">dd wrt multiple bssids</a></li>
<li><a class="" href="../Network_Net/ddwrt_basic_wl_settings.html">ddwrt basic wl settings</a></li>
<li><a class="" href="../Network_Net/download_youtube_videos.html">download youtube videos</a></li>
<li><a class="" href="../Network_Net/riseup-vpn.html">riseup vpn</a></li>
</ul>
<li class="heading"><span>PHP</span></li>
<ul>
<li><a class="" href="22092023.html">22092023</a></li>
<li><a class="" href="LearningResources.html">LearningResources</a></li>
<li><a class="active" href="edx_js_backend_frameworks.html">edx js backend frameworks</a></li>
<li><a class="" href="embed_lib.html">embed lib</a></li>
<li><a class="" href="express_mdn.html">express mdn</a></li>
<li><a class="" href="helpful_resources.html">helpful resources</a></li>
<li><a class="" href="html_forms.html">html forms</a></li>
<li><a class="" href="http_response_codes.html">http response codes</a></li>
<li><a class="" href="json_guide.html">json guide</a></li>
<li><a class="" href="local-servers.html">local servers</a></li>
<li><a class="" href="logical_gradation_of_developers.html">logical gradation of developers</a></li>
<li><a class="" href="markdown.html">markdown</a></li>
<li><a class="" href="namespace_review.html">namespace review</a></li>
<li><a class="" href="notes_for_proff_nodejs_express.html">notes for proff nodejs express</a></li>
<li><a class="" href="npm_quick_ref.html">npm quick ref</a></li>
<li><a class="" href="pandoc_quick_ref.html">pandoc quick ref</a></li>
<li><a class="" href="php_basics.html">php basics</a></li>
<li><a class="" href="php_iterators.html">php iterators</a></li>
<li><a class="" href="wget-ultimate-examples.html">wget ultimate examples</a></li>
</ul>
<li class="heading"><span>Packaging</span></li>
<ul>
<li><a class="" href="../Packaging/apt.html">apt</a></li>
<li><a class="" href="../Packaging/composer.html">composer</a></li>
</ul>
<li class="heading"><span>ReviewQuestions</span></li>
<ul>
<li><a class="" href="../ReviewQuestions/strings_quotes.html">strings quotes</a></li>
</ul>
<li class="heading"><span>Symfony</span></li>
<ul>
<li><a class="" href="../Symfony/Encore.html">Encore</a></li>
<li class="heading"><span>Symfonycasts</span></li>
<ul>
<li><a class="" href="../Symfony/Symfonycasts/Composer.html">Composer</a></li>
<li><a class="" href="../Symfony/Symfonycasts/Dependency Injection and the art of services and containers.html">Dependency Injection and the art of services and containers</a></li>
<li><a class="" href="../Symfony/Symfonycasts/Symfony 6 Fundamentals: Services, Config & Environments.html">Symfony 6 Fundamentals: Services, Config & Environments</a></li>
</ul>
<li><a class="" href="../Symfony/chapter5_symfonyCats.html">chapter5 symfonyCats</a></li>
<li><a class="" href="../Symfony/symfony_and_http_fundamentals.html">symfony and http fundamentals</a></li>
<li><a class="" href="../Symfony/symfony_basics.html">symfony basics</a></li>
<li><a class="" href="../Symfony/twig_basics.html">twig basics</a></li>
<li><a class="" href="../Symfony/twig_cheatsheet.html">twig cheatsheet</a></li>
</ul>
<li class="heading"><span>javascript</span></li>
<ul>
<li><a class="" href="../javascript/js_cheatsheet.html">js cheatsheet</a></li>
</ul>
</ul>
	</nav>
	<div id="content">
	<blockquote>
<p>from edx course - week 4.</p>
</blockquote>
<h3 id="node.js---fuetures%3A">Node.js - Fuetures: <a class="heading-anchor-permalink" href="#node.js---fuetures%3A">#</a></h3>
<ul>
<li>Asynchronous, event-driven JavaScript runtime</li>
</ul>
<p>environment for building web applications</p>
<ul>
<li>Treats HTTP requests as events that invoke</li>
</ul>
<p>callback functions/handlers that construct the HTTP</p>
<p>response</p>
<ul>
<li>includes a package manager to simplify the</li>
</ul>
<p>deployment of JavaScript apps</p>
<h3 id="installing-nodejs%3A">Installing Nodejs: <a class="heading-anchor-permalink" href="#installing-nodejs%3A">#</a></h3>
<ul>
<li>You can install Node.js by downloading, running,</li>
</ul>
<p>and finishing the package installer available here:</p>
<p><code>https://nodejs.org/en/download/</code></p>
<ul>
<li>
<p>Check that installation is correct using: <code>node –v</code></p>
</li>
<li>
<p>Update modules using: <code>npm install npm –g</code></p>
</li>
</ul>
<h3 id="setting-up-a-new-project">Setting up a new project <a class="heading-anchor-permalink" href="#setting-up-a-new-project">#</a></h3>
<ul>
<li>
<p>Create a new folder for your project</p>
</li>
<li>
<p>Use Terminal, Command Prompt, etc. to navigate to</p>
</li>
</ul>
<p>that folder</p>
<ul>
<li>
<p>Set up a new project by running: npm init</p>
</li>
<li>
<p>You will be prompted to enter some information about your project.</p>
</li>
<li>
<p>Specify “index.js” as your entry point.</p>
</li>
<li>
<p>Your project folder should now have a <code>package.json</code> configuration file:</p>
</li>
</ul>
<pre><code class="language-json">
{

&quot;name&quot;: &quot;helloworld&quot;,
&quot;version&quot;: &quot;1.0.0&quot;,
&quot;description&quot;: &quot;A basic hello world app&quot;,
&quot;main&quot;: &quot;index.js&quot;,
&quot;scripts&quot;: {
&quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
},
&quot;author&quot;: &quot;edX Learner&quot;,
&quot;license&quot;: &quot;ISC&quot;
}

</code></pre>
<hr>
<h2 id="express">Express <a class="heading-anchor-permalink" href="#express">#</a></h2>
<ul>
<li>Express is a web application framework that sits on top of a Node.js server.</li>
<li>Express helps you modularize and streamline your web application.</li>
<li>Within Express, you can organize your app in many ways:</li>
<li>Define separate modules that have different responsibilities.</li>
<li>Handle requests via different routes and routers.</li>
<li>Split each step in the processing of a request into Middlewares.</li>
</ul>
<h3 id="adding-express">Adding Express <a class="heading-anchor-permalink" href="#adding-express">#</a></h3>
<ul>
<li>To use Express, run the following from the folde where you created your Node.js app:</li>
</ul>
<p><code>npm install express --save</code></p>
<ul>
<li>The Express package will be downloaded to th project and added to your package.json file as a dependency.</li>
<li>Package: a package is a module of JavaScript code usually with a specific purpose, that can be re-used and assembled with other modules</li>
<li>Dependency: A dependency is a piece of code that you program relies on to work correctly.</li>
</ul>
<h3 id="express-configuration">Express Configuration <a class="heading-anchor-permalink" href="#express-configuration">#</a></h3>
<ul>
<li>Your package.json file will now have a new section called dependencies</li>
<li><code>npm</code> can refer to this in the future and re-download or update your packages as needed</li>
</ul>
<pre><code class="language-json">&quot;name&quot;: &quot;helloworld&quot;,
&quot;version&quot;: &quot;1.0.0&quot;,
&quot;description&quot;: &quot;A basic hello world app&quot;,
&quot;main&quot;: &quot;index.js&quot;,
&quot;scripts&quot;: {
&quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
},
&quot;author&quot;: &quot;edX Learner&quot;,
&quot;license&quot;: &quot;ISC&quot;,
&quot;dependencies&quot;: {
&quot;express&quot;: &quot;^4.15.3&quot;
 }
}
</code></pre>
<h3 id="hello-world">Hello World <a class="heading-anchor-permalink" href="#hello-world">#</a></h3>
<ul>
<li>Create an file named index.js in your Node.js</li>
<li>project root directory with the following contents:</li>
</ul>
<pre><code class="language-js">var  express  =  require('express');
var  app  =  express();
app.use('/', (req, res) =&gt; {
res.send('Hello World!');
});
app.listen(3000, () =&gt; {
 console.log('Listening on port 3000');
});
</code></pre>
<h3 id="running-express">Running Express <a class="heading-anchor-permalink" href="#running-express">#</a></h3>
<ul>
<li>In the project folder, run: node index.js</li>
<li>When the server starts, you should see “Listening on port 3000” written to the console/screen</li>
<li>Open a browser on the same computer and go to
<code>http://localhost:3000/</code></li>
</ul>
<h2 id="node.js-request-and-response-objects">Node.js Request and Response Objects <a class="heading-anchor-permalink" href="#node.js-request-and-response-objects">#</a></h2>
<ul>
<li>
<p>Web browsers communicate with Web servers via HTTP requests and responses</p>
</li>
<li>
<p>Node.js and Express simplify the development of Web servers to handle HTTP requests and create and return HTTP responses.</p>
</li>
</ul>
<h3 id="anatomy-of-an-http-request">Anatomy of an HTTP Request <a class="heading-anchor-permalink" href="#anatomy-of-an-http-request">#</a></h3>
<p><img src="2020-04-12-04-39-29.png" alt=""></p>
<h3 id="node.js%2Fexpress-request-objects">Node.js/Express Request Objects <a class="heading-anchor-permalink" href="#node.js%2Fexpress-request-objects">#</a></h3>
<ul>
<li>
<p>An HTTP Request is represented as an object in the Express app.</p>
</li>
<li>
<p>The object is passed as a parameter to the callback function/event handler.</p>
</li>
</ul>
<pre><code class="language-js">
var  express  =  require('express');

var  app  =  express();

app.use('/', (req, res) =&gt; {

res.send('Hello World!');

});

app.listen(3000, () =&gt; {

console.log('Listening on port 3000');

});

</code></pre>
<h3 id="request-object-properties%2Ffunctions">Request Object Properties/Functions <a class="heading-anchor-permalink" href="#request-object-properties%2Ffunctions">#</a></h3>
<ul>
<li>
<p><code>method</code>: the HTTP Request verb/action.</p>
</li>
<li>
<p><code>url</code>: the resource that was requested.</p>
</li>
<li>
<p><code>headers</code>: object containing all headers.</p>
</li>
<li>
<p><code>get(field)</code>: request header field.</p>
</li>
</ul>
<pre><code class="language-js">
app.use('/', (req, res) =&gt; {

var  method  = req.method;

var  url  = req.url;

var  agent  = req.headers['user-agent'];

agent  = req.get('User-Agent');

res.send('Hello});

</code></pre>
<h3 id="antomy-of-an-http-response%3A">Antomy of an HTTP Response: <a class="heading-anchor-permalink" href="#antomy-of-an-http-response%3A">#</a></h3>
<p><img src="2020-04-12-04-44-35.png" alt=""></p>
<h3 id="node.js%2Fexpress-response-objects">Node.js/Express Response Objects <a class="heading-anchor-permalink" href="#node.js%2Fexpress-response-objects">#</a></h3>
<ul>
<li>
<p>An HTTP Response is also represented as an object in the Express app.</p>
</li>
<li>
<p>The object is passed as a parameter to the callback function/event handler:</p>
</li>
</ul>
<pre><code class="language-js">
var  express  =  require('express');

var  app  =  express();

app.use('/', (req, res) =&gt; {

res.send('Hello World!');

});

app.listen(3000, () =&gt; {

console.log('Listening on port 3000');

});

</code></pre>
<h3 id="response-object-functions">Response Object Functions <a class="heading-anchor-permalink" href="#response-object-functions">#</a></h3>
<ul>
<li>
<p>status: set the HTTP status code</p>
</li>
<li>
<p>type: set the HTTP content type</p>
</li>
<li>
<p>write: add content to the body of the response</p>
</li>
<li>
<p>end: send the response and close the connection</p>
</li>
</ul>
<pre><code class="language-js">
app.use('/', (req, res) =&gt; {

res.status(200);

res.type('html');

res.write('Hello world!');

res.write('&lt;p&gt;');

res.write('&lt;b&gt;Have a nice day&lt;/b&gt;');

res.end();

});

</code></pre>
<h3 id="combining-requests-and-responses%3A">Combining Requests and Responses: <a class="heading-anchor-permalink" href="#combining-requests-and-responses%3A">#</a></h3>
<pre><code class="language-js">
app.use('/', (req, res) =&gt; {

var  name  = req.query.name; // e.g. /?name=devesh

res.status(200).type('html');

if (name) {

res.write('Hi,  '  +  name  +  &quot;it's nice to see you.&quot;);}

else { res.write('Welcome, guest!'); }

res.end();

});

</code></pre>
<hr>
<h3 id="express-routing">Express Routing <a class="heading-anchor-permalink" href="#express-routing">#</a></h3>
<pre><code class="language-js">
var  express  =  require('express');

var  app  =  express();

app.use('/about', (req, res) =&gt; {

res.send('This is the about page.');

});

app.use('/login', (req, res) =&gt; {

res.send('This is the login page.');

});

app.use( /*default*/ (req, res) =&gt; {

res.status(404).send('Not found!');

});

app.listen(3000, () =&gt; {

console.log('Listening on port 3000');

});

</code></pre>
<h3 id="express-middleware">Express Middleware <a class="heading-anchor-permalink" href="#express-middleware">#</a></h3>
<ul>
<li>
<p>A middleware is a function that is invoked in the handling of an HTTP request.</p>
</li>
<li>
<p>It is used in the “middle” between receiving a request and sending a response.</p>
</li>
<li>
<p>Multiple middlewares can be chained together on the same request.</p>
</li>
</ul>
<h3 id="middleware%3A-serving-static-files">Middleware: Serving Static Files <a class="heading-anchor-permalink" href="#middleware%3A-serving-static-files">#</a></h3>
<ul>
<li>The simplest middleware is express.static, which serves static files that are locally stored.</li>
</ul>
<pre><code class="language-js">
var  express  =  require('express');

var  app  =  express();

app.use('/public', express.static('files'));

app.use( /*default*/ (req, res) =&gt; {

res.status(404).send('Not found!');

});

app.listen(3000, () =&gt; {

console.log('Listening on port 3000');

});

</code></pre>
<pre><code class="language-html">
&lt;!-- This is files/index.html --&gt;

&lt;html&gt;

&lt;body&gt;

&lt;h1&gt;Hello!&lt;/h1&gt;

&lt;img  src=&quot;images/kitty.jpg&quot;&gt;

&lt;!-- File is files/images/kitty.jpg --&gt;

&lt;/body&gt;

&lt;/html&gt;

</code></pre>
<h2 id="middleware%3A-serving-static-files-2">Middleware: Serving Static Files <a class="heading-anchor-permalink" href="#middleware%3A-serving-static-files-2">#</a></h2>
<ul>
<li>We can use the response object to send back specific HTML files as needed:</li>
</ul>
<pre><code class="language-js">
var  express  =  require('express');

var  app  =  express();

app.use('/public', express.static('files'));

app.use( /*default*/ (req, res) =&gt; {

res.status(404).sendFile(__dirname  +  '/404.html');

});

app.listen(3000, () =&gt; {

console.log('Listening on port 3000');

});

</code></pre>
<h3 id="defining-and-using-middleware">Defining and Using Middleware <a class="heading-anchor-permalink" href="#defining-and-using-middleware">#</a></h3>
<ul>
<li>
<p><code>Middleware</code> functions can contain any amount of JavaScript code with any functionality</p>
</li>
<li>
<p>They take three parameters: <code>req, res, and next</code></p>
</li>
<li>
<p><code>next()</code> must be called at the end of the function to invoke the next middleware or the final response:</p>
</li>
</ul>
<pre><code class="language-js">
var  express  =  require('express');

var  app  =  express();

var  logger  = (req, res, next) =&gt; {

var  url  = req.url;

var  time  =  new  Date();

console.log('Received request for  '  +  url  +

' at  '  +  time);

next();

};

app.use(logger);

app.use('/public', express.static('files'));

app.use( /*default*/ (req, res) =&gt; {

res.status(404).sendFile(__dirname  +  '/404.html');

});

app.listen(3000, () =&gt; {

console.log('Listening on port 3000');

});

</code></pre>
<h3 id="middleware-chaining%3A">Middleware Chaining: <a class="heading-anchor-permalink" href="#middleware-chaining%3A">#</a></h3>
<ul>
<li>
<p>Middleware functions are called in the order in which they are specified.</p>
</li>
<li>
<p>Each uses the same Request and Response objects.</p>
</li>
<li>
<p>A middleware function can modify the Request so that it can then be used by subsequent middleware functions “downstream” in the route.</p>
</li>
</ul>
<pre><code class="language-js">
var  nameFinder  = (req, res, next) =&gt; {

var  name  = req.query.name;

if (name) req.username  = name.toUpperCase();

else req.username  =  'Guest';

next();

}

var  greeter  = (req, res, next) =&gt; {

res.status(200).type('html');

res.write('Hello,  '  + req.username);

next();

}

var  adminName  = (req, res, next) =&gt; {

req.username  =  'Admin';

next();

}

app.use('/welcome', nameFinder, greeter,

(req, res) =&gt; { res.end(); } );

app.use('/admin', adminName, greeter,

(req, res) =&gt; { res.end();

} );

</code></pre>
<h3 id="middleware%2C-routes%2C-and-routers">Middleware, Routes, and Routers <a class="heading-anchor-permalink" href="#middleware%2C-routes%2C-and-routers">#</a></h3>
<ul>
<li>
<p>We may find that the same combinations of middleware functions are being used in multiple routes.</p>
</li>
<li>
<p>We can combine middleware functions into “sub- routes” using <code>Routers</code> and then use those in our routes.</p>
</li>
</ul>
<pre><code class="language-js">
var  nameFinder  = (req, res, next) =&gt; { .  .  . }

var  greeter  = (req, res, next) =&gt; { .  .  . }

var  adminName  = (req, res, next) =&gt; { .  .  . }

var  logger  = (req, res, next) =&gt; { .  .  . }

var  header  = (req, res, next) =&gt; { .  .  . }

var  footer  = (req, res, next) =&gt; { .  .  . }

  

app.use('/welcome', logger, nameFinder, header,

  

greeter, footer, (req, res) =&gt; { res.end(); } );

  

app.use('/admin', logger, adminName, header, greeter, footer, (req, res) =&gt; {

res.end();

} );

var  commonRoute  = express.Router();

  

commonRoute.use(header, greeter, footer);

  

app.use('/welcome', logger, nameFinder, commonRoute,

(req, res) =&gt; { res.end(); } );

  

app.use('/admin', logger, adminName, commonRoute,

(req, res) =&gt; { res.end(); } );

  

</code></pre>
<hr>
<h2 id="getting-user-data">Getting User Data <a class="heading-anchor-permalink" href="#getting-user-data">#</a></h2>
<h3 id="getting-data-from-users%3A-http-requests">Getting Data from Users: HTTP Requests <a class="heading-anchor-permalink" href="#getting-data-from-users%3A-http-requests">#</a></h3>
<ul>
<li>
<p>Query parameters</p>
</li>
<li>
<p><code>Key/value</code> pairs that are part of the <code>URL</code>.</p>
</li>
<li>
<p>Can be part of a static URL or be generated by an <code>HTML</code> form using the “GET” method.</p>
</li>
<li>
<p>POST data</p>
</li>
<li>
<p><code>Key/value</code> pairs that are included in the body of the <code>HTTP</code> request.</p>
</li>
<li>
<p>Result from an <code>HTML</code> form using the “POST” method.</p>
</li>
</ul>
<h3 id="request-object-query-properties">Request Object Query Properties <a class="heading-anchor-permalink" href="#request-object-query-properties">#</a></h3>
<ul>
<li>An HTTP Request object can include <code>query</code> properties that come from the URL: <code>http://localhost:3000/?name=Lydia&amp;location=United+States</code></li>
</ul>
<pre><code class="language-js">
app.use('/', (req, res) =&gt; {

var  query  = req.query;

console.log(query);

var  name  = query.name;

// 'Lydia'

var  location  = query.location; // 'United States'

var  length  =  Object.keys(query).length; // 2

res.send('Hello World!');

});

</code></pre>
<h3 id="request-object-parameters">Request Object Parameters <a class="heading-anchor-permalink" href="#request-object-parameters">#</a></h3>
<ul>
<li>An HTTP Request object can include <code>param</code> properties that come from a parameterized URL: <code>http://localhost:3000/name/Lydia/location/United States</code>.</li>
</ul>
<pre><code class="language-js">
app.use('/name/:userName/location/:userLocation',

(req, res) =&gt; {

var  params  = req.params;

console.log(params);

var  name  = params.userName;

// 'Lydia'

var  location  = params.userLocation; // 'United States'

var  length  =  Object.keys(params).length; // 2

res.send('Hello World!');

});

</code></pre>
<h3 id="html-forms">HTML Forms <a class="heading-anchor-permalink" href="#html-forms">#</a></h3>
<ul>
<li>
<p>Forms allow users to enter or select data, e.g. via input boxes, checkboxes, radio buttons, etc.</p>
</li>
<li>
<p>The form specifies the action and method that result when the user chooses to submit the form.</p>
</li>
<li>
<p>Action: the URL to be requested.</p>
</li>
<li>
<p>Method: the HTTP Request “verb,” e.g. GET or POST.</p>
</li>
</ul>
<p><img src="2020-04-12-05-18-38.png" alt=""></p>
<pre><code class="language-html">
&lt;html&gt;

&lt;body&gt;

&lt;form  action=&quot;/handleForm&quot;  method=&quot;post&quot;&gt;

Name: &lt;input  name=&quot;username&quot;&gt;

&lt;p&gt;

I like:&lt;br&gt;

&lt;input  type=checkbox  name=&quot;animal&quot;  value=&quot;dogs&quot;&gt;Dogs &lt;br&gt;

&lt;input  type=checkbox  name=&quot;animal&quot;  value=&quot;cats&quot;&gt;Cats &lt;br&gt;

&lt;input  type=checkbox  name=&quot;animal&quot;  value=&quot;birds&quot;&gt;Birds &lt;br&gt;

&lt;p&gt;

&lt;input  type=submit  value=&quot;Submit form!&quot;&gt;

&lt;/form&gt;

&lt;/body&gt;

</code></pre>
<h3 id="reading-post-data-in-express">Reading POST Data in Express <a class="heading-anchor-permalink" href="#reading-post-data-in-express">#</a></h3>
<ul>
<li>
<p>When a form’s method is “GET”, the data is sent in the URL query parameters.</p>
</li>
<li>
<p>When a form’s method is “POST”, the data is sent in the body of the HTTP request.</p>
</li>
<li>
<p>To read the body of the HTTP request in Express, use the body-parser middleware.</p>
</li>
<li>
<p>To install it, run: <code>npm install body-parser</code>.</p>
</li>
</ul>
<pre><code class="language-js">
var  express  =  require('express');

var  app  =  express();

app.use('/public', express.static('files'));

var  bodyParser  =  require('body-parser');

app.use(bodyParser.urlencoded({ extended: true }));

app.use('/handleForm', (req, res) =&gt; {

var  name  = req.body.username;

var  animals  = req.body.animal; // this is an array

.  .  .

res.send('Thank you!');

});

app.listen(3000, () =&gt; {

console.log('Listening on port 3000');

});

</code></pre>
<h3 id="summary">Summary <a class="heading-anchor-permalink" href="#summary">#</a></h3>
<ul>
<li>
<p>HTTP Request query properties: key/value pairs that come from URL.</p>
</li>
<li>
<p>HTTP Request param properties: key/value pairs that come from parameterized URL.</p>
</li>
<li>
<p>HTTP Request body properties: input data from form submitting using POST method.</p>
</li>
</ul>
<hr>
<h3 id="example%3A">Example: <a class="heading-anchor-permalink" href="#example%3A">#</a></h3>
<p><img src="2020-04-12-05-27-54.png" alt=""></p>
<p><img src="2020-04-12-05-28-12.png" alt=""></p>
<pre><code class="language-js">
var  bodyParser  =  require('body-parser');

app.use(bodyParser.urlencoded({ extended: true }));

app.use('/handleForm', (req, res) =&gt; {

var  name  = req.body.username;

var  animals  = [].concat(req.body.animal);

res.type('html').status(200);

res.write('Hello,  '  +  name  +  ', nice to meet you.');

res.write('&lt;p&gt;Here are the animals you like:');

res.write('&lt;ul&gt;');

animals.forEach( (animal) =&gt; {

res.write('&lt;li&gt;'  +  animal  +  '&lt;/li&gt;');

});

res.write('&lt;/ul&gt;');

res.write(&quot;&lt;a href='/public/form.html'&gt;&quot;  +

&quot;Back to form&lt;/a&gt;&quot;);

res.end();

});

</code></pre>
<h3 id="what-is-ejs%3F">What is EJS? <a class="heading-anchor-permalink" href="#what-is-ejs%3F">#</a></h3>
<ul>
<li>
<p><code>EJS</code>, or <code>EmbeddedJS</code>, is a view engine that uses data and embedded JavaScript to produce HTML.</p>
</li>
<li>
<p>This allows webpages to be developed statically and rendered dynamically <code>server-side</code>.</p>
</li>
<li>
<p>EmbeddedJS is a package that can be installed with the command: <code>npm install ejs</code>.</p>
</li>
</ul>
<!-- Continue page 280 -->
	</div>
	<script src="../prism.js"></script>
	<script>prism.Highlight();</script>
</body>

</html>